# ðŸ§© Procedural Generation Pipeline (Stage-by-Stage)

## Stage A: Structural Initialization

1. **Establish coordinate origin and layout center**  
   Place the coordinate origin at one corner of the room (intersection of the floor and two walls).  
   - +X axis â†’ direction of the clock and small Christmas tree decorations  
   - +Y axis â†’ direction of the fireplace, bells, and main Christmas tree  
   - +Z axis â†’ upward  
   This ensures all subsequent object coordinates are positive.

2. **Build the basic room frame**  
   Create four walls, a floor, and a ceiling to form the room structure.  
   Add a ceiling light at the geometric center as the main light source.  
   Assign each wall a color or material consistent with the reference image.  
   The entire room has a scale of roughly **3 units**, meaning all x, y, z coordinates are within `[0, 3]`.

3. **Set up the camera**  
   Position the camera to face the coordinate origin, capturing the floor, ceiling, and two adjacent walls in view.

---

## Stage B: Core Furniture Construction

Sequentially generate and place the following objects:

1. **Lounge**  
   Retrieve the lounge object from an external tool.  
   This asset includes the sofa, floor lamp, coffee table, red-white rug, and the snowman on the table.  
   - Approx. coordinates: **x â‰ˆ 1.5, y â‰ˆ 1.0, z â‰ˆ 0.5**  
   - The z-coordinate cannot be 0 (the objectâ€™s center would sink into the ground).  
   - Adjust scale carefully; ensure the object sits precisely on the floor with no interpenetration.

2. **Main Christmas Tree**  
   Retrieve the large Christmas tree asset.  
   - Approx. coordinates: **x â‰ˆ 0.5, y â‰ˆ 2.5, z â‰ˆ 1.0**  
   - Adjust scale and position precisely; ensure the tree stands firmly on the floor.

3. **Gift Boxes**  
   Retrieve or duplicate gift box assets as needed to match the reference image.  
   - Place them beneath the main Christmas tree, with x/y near the tree base and slightly smaller z.  
   - Ensure precise floor contact and avoid clipping.

4. **Fireplace**  
   Retrieve the fireplace asset.  
   - Approx. coordinates: **x â‰ˆ 0.2, y â‰ˆ 1.5, z â‰ˆ 1.0**  
   - Adjust size carefully and ensure perfect wall alignment without penetration.

5. **Golden Bells**  
   Retrieve the bell asset and position it above the fireplace.  
   - Coordinates: **same x/y as fireplace, z â‰ˆ 2.5**  
   - Adjust precisely; ensure accurate wall attachment.

6. **Clock Above Lounge**  
   Retrieve a wall clock asset.  
   - Approx. coordinates: **x â‰ˆ 1.0, y â‰ˆ 0.2, z â‰ˆ 2.5**  
   - Align precisely to the wall with no overlap or penetration.

7. **Small Tree Decorations near Clock**  
   Retrieve small decorative tree assets and duplicate as needed.  
   - Example coordinates:  
     - (x â‰ˆ 1.75, y â‰ˆ 0.2, z â‰ˆ 2.5)  
     - (x â‰ˆ 2.5, y â‰ˆ 0.2, z â‰ˆ 2.5)  
   - Align precisely to the wall; avoid overlapping.

8. **(Optional) Auxiliary Decorations**  
   Add string lights along the walls and ceiling.  
   Include picture frames or small wall ornaments for additional realism.

---

## Stage C: Lighting and Rendering

1. **Add main light sources**  
   Use the ceiling lamp as the primary diffuse light source.  
   Add warm lighting from the fireplace and string lights.

2. **Adjust ambient lighting**  
   Match the color tone to a **cozy, festive atmosphere**.  
   Use soft shadows and subtle ambient occlusion.

3. **Render and tone adjustments**  
   Apply a **warm white balance**, slightly increase **saturation**,  
   and enable **soft diffusion** to create a warm, inviting mood.

---

âœ… *Notes for the model:*  
- Ensure all objects rest properly on the floor plane or the wall planes (no interpenetration).  
- Maintain physically coherent scale and spatial relationships.  
- All coordinates must stay within `[0, 3]` unless explicitly extended.  
- Optimize for aesthetic balance and compositional realism.
